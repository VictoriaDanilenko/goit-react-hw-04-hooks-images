{"version":3,"sources":["components/Modal/modal.module.css","components/Button/button.module.css","components/ImageGallery/imageGallery.module.css","components/Loader/loader.module.css","app.module.css","components/Searchbar/searchBar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","services/SearchApi.js","App.js","index.js","components/ImageGalleryItem/imageGalleryItem.module.css"],"names":["module","exports","Searchbar","inputSubmit","useState","name","setName","className","styles","onSubmit","evt","preventDefault","trim","alert","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","required","ImageGalleryItem","hits","onClick","useEffect","window","scrollTo","top","document","documentElement","scrollHeight","behavior","map","id","tags","webformatURL","largeImageURL","src","lowsrc","alt","ImageGalleryItem_image","Button","btnName","ImageGallery","gallery","loadMore","showModal","Loader","Spinner","color","height","width","timeout","modalRoot","querySelector","Modal","children","onClose","handleKeyDown","e","code","addEventListener","removeEventListener","createPortal","Overlay","target","SearchApi","search","page","fetch","then","response","ok","json","Promise","reject","Error","App","setSearch","setGallery","setPage","setShowModal","largeImg","setLargeImg","loading","setLoading","loaderStatus","setLoaderStatus","error","setError","isFirstRender","useRef","toggleModal","current","data","prevState","length","catch","newError","console","log","finally","input","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a8b0d105.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1oGyr\",\"Modal\":\"modal_Modal__XPxL3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__Hax0N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__3y41b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"loader_Spinner__uxGuF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"app_App__3ALCk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__2Hm9W\",\"SearchForm\":\"searchBar_SearchForm__31fn2\",\"SearchForm_button\":\"searchBar_SearchForm_button__2alXB\",\"SearchForm_button_label\":\"searchBar_SearchForm_button_label__1PbKk\",\"SearchForm_input\":\"searchBar_SearchForm_input__1y2-z\"};","import React, { useState } from 'react';\n\nimport styles from './searchBar.module.css'\n\nexport default function Searchbar({ inputSubmit }) {\n    const [name, setName] = useState('');\n\n    const handleChange = (evt) => {\n        const { value } = evt.currentTarget;\n        setName(value);\n    }\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n\n        if (name.trim() === \"\") {\n            alert('Enter search request');\n            return;\n        }\n\n        inputSubmit(name);\n        \n        setName('');\n    }\n\n    return (\n        <header className={styles.Searchbar}>\n            <form onSubmit={handleSubmit} className={styles.SearchForm}>\n                <button type=\"submit\" className={styles.SearchForm_button}>\n                    <span className={styles.SearchForm_button_label}>Search</span>\n                </button>\n                \n                <input\n                className={styles.SearchForm_input}\n                type=\"text\"\n                value={name}\n                onChange={handleChange}\n                autoComplete=\"off\"\n                autoFocus\n                placeholder=\"Search images and photos\"\n                required                    \n                />            \n            </form>\n        </header>  \n    );\n}\n","import React, { useEffect } from 'react';\n\nimport styles from './imageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ hits, onClick }) {\n    useEffect(() => {\n        window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n        });\n    }, [hits])\n\n    return (\n        hits.map(({ id, tags, webformatURL, largeImageURL }) => (\n            <li className={styles.ImageGalleryItem} key={id} >\n                <img\n                    onClick={onClick}\n                    src={webformatURL}\n                    lowsrc={largeImageURL}\n                    alt={tags}\n                    className={styles.ImageGalleryItem_image} />\n            </li>\n        ))\n    );\n}","import React from 'react';\n\nimport styles from './button.module.css';\n\nconst Button = ({ onClick, btnName }) => (\n    <button\n        type=\"button\"\n        className={styles.Button}\n        onClick={()=>onClick()}\n    >{btnName}\n    </button>\n);\n\nexport default Button;","import React from 'react';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\n\nimport styles from './imageGallery.module.css';\n\nconst ImageGallery = ({ gallery, loadMore, showModal }) => (\n    <>\n        <ul className={styles.ImageGallery}>\n            <ImageGalleryItem hits={gallery} onClick={showModal}/>\n        </ul>\n        <Button onClick={loadMore} btnName=\"Load more\"/>\n    </>\n);\n\nexport default ImageGallery;","import React from 'react';\n\nimport Spinner from \"react-loader-spinner\";\n\nimport styles from './loader.module.css';\n\nconst Loader = () => (\n    <div className={styles.Spinner}>\n        <Spinner\n            type=\"Puff\"\n            color=\"#3f51b599\"\n            height={300}\n            width={300}\n            timeout={3000}            \n        />\n    </div>\n);\n\nexport default Loader;\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport styles from './modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ children, onClose }) {\n\n    const handleBackDropClick = e => {\n        if (e.target === e.currentTarget) {\n            onClose();\n        }\n    }\n\n    useEffect(() => {\n        function handleKeyDown (e)  {\n            if (e.code === 'Escape') {\n                onClose();\n            }\n        }\n\n        window.addEventListener('keydown', handleKeyDown);\n\n        return () => {\n            window.removeEventListener('keydown', handleKeyDown)\n        };\n    }, [onClose])\n\n    return createPortal(\n        <div className={styles.Overlay} onClick={handleBackDropClick}>\n            <div className={styles.Modal}>                    \n                {children}\n            </div>\n        </div>, modalRoot\n    );\n}","const SearchApi = (search, page) => {\n    const API_KEY = \"21847768-5e5b2f7eaa86d5895d80eb462\";\n    const URL = \"https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&key=\";\n\n    return (\n        fetch(`${URL}${API_KEY}&q=${search}&page=${page}`)\n        .then(response => {\n          if (response.ok) {\n            return response.json();\n          }\n\n          return Promise.reject(\n            new Error(`Search request ${search} not found`),\n          );\n        }));\n}\n\nexport default SearchApi;","import React, { useEffect, useState, useRef } from 'react';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport SearchApi from './services/SearchApi';\n\nimport styles from './app.module.css'\n\nexport default function App() {\n  const [search, setSearch] = useState(null);\n  const [gallery, setGallery] = useState([]);\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImg, setLargeImg] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [loaderStatus, setLoaderStatus] = useState('init');\n  const [error, setError] = useState(null);\n  const isFirstRender = useRef(true);\n\n  const handleInputSubmit = (input) => {\n    setSearch(input);\n    setLoaderStatus('init');\n    setPage(1);\n  }\n\n  const handleLoadMore = () => {\n    setPage(prevState => prevState + 1);\n    setLoaderStatus('loadMore');\n  }\n\n  const toggleModal = (e) => {\n    if (e) {\n      setLargeImg(e.target.lowsrc);\n    }\n    \n    setShowModal(!showModal);\n  }\n\n  useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    setLoading(true);\n\n    if (page === 1) {\n      setGallery([]);      \n    }\n\n    SearchApi(search,page)\n      .then(data => {\n        if (page !== 1) {\n          setGallery(prevState => {\n            const newData = [...prevState, ...data.hits]\n            return newData;\n          });\n        }\n\n        if (page === 1) {\n          if (data.hits.length === 0) {\n            setGallery(data.hits);\n            setLoaderStatus('nothingFound');\n            return;\n          }\n\n          setGallery(data.hits);\n          setLoaderStatus('init');\n        }          \n      })\n      .catch(newError => {\n        setError(newError);\n\n        if (error) {\n          console.log(error);\n        }\n      })\n      .finally(() => setLoading(false))\n\n  }, [search, page, error]);\n\n  return (\n    <div className={styles.App}>\n\n      <Searchbar inputSubmit={handleInputSubmit} />\n\n      {loading && loaderStatus === 'init' && <Loader />}\n      \n      {gallery.length > 1 && <ImageGallery\n        gallery = {gallery}\n        loadMore = {handleLoadMore}\n        showModal={toggleModal} />}\n      \n      {loaderStatus === 'nothingFound' && search !== null &&\n        <h1>Nothing found.... Try again</h1>}\n      \n      {showModal && <Modal onClose={toggleModal}>\n        <img src={largeImg} alt=\"\" />\n      </Modal>}\n      \n    </div>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__2J6d9\",\"ImageGalleryItem_image\":\"imageGalleryItem_ImageGalleryItem_image__2Rcez\"};"],"sourceRoot":""}